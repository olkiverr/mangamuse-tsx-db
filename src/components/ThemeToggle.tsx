import React, { useState, useEffect } from 'react';

const ThemeToggle: React.FC = () => {
  const [isDarkTheme, setIsDarkTheme] = useState(true);

  // Initialize theme on component mount
  useEffect(() => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
      setIsDarkTheme(false);
    } else {
      // Default to dark theme
      document.documentElement.setAttribute('data-theme', 'dark');
      setIsDarkTheme(true);
    }
  }, []);

  const toggleTheme = () => {
    if (isDarkTheme) {
      document.documentElement.setAttribute('data-theme', 'light');
      localStorage.setItem('theme', 'light');
      setIsDarkTheme(false);
    } else {
      document.documentElement.setAttribute('data-theme', 'dark');
      localStorage.setItem('theme', 'dark');
      setIsDarkTheme(true);
    }
  };

  return (
    <button className="theme-toggle" onClick={toggleTheme}>
      {isDarkTheme ? (
        <>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z" />
          </svg>
          Light
        </>
      ) : (
        <>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M11.3807 2.01399C7.76084 2.31096 5 5.33939 5 9C5 12.866 8.13401 16 12 16C15.6606 16 18.689 13.2392 18.986 9.61926C19.0008 9.41086 18.9507 9.20313 18.8442 9.02183C18.7376 8.84053 18.5784 8.69332 18.3854 8.59868C18.1924 8.50405 17.9739 8.46616 17.7656 8.49002C17.5573 8.51388 17.3624 8.59839 17.2063 8.7324C16.0403 9.7375 14.5334 10.3603 12.8905 10.4691C11.2475 10.5779 9.61997 10.1658 8.2779 9.3048C6.93584 8.44381 5.97074 7.1852 5.5371 5.71818C5.10346 4.25116 5.22433 2.68756 5.87869 1.31113C5.98306 1.10323 6.01985 0.867548 5.98406 0.636901C5.94827 0.406255 5.84146 0.19223 5.677 0.026536C5.51253 -0.139158 5.29998 -0.247084 5.0696 -0.28394C4.83921 -0.320797 4.60327 -0.285076 4.39539 -0.181167C3.49493 0.326965 2.67346 1.00566 1.97411 1.81951C-0.0303821 4.28108 -0.545337 7.59246 0.444118 10.5651C1.43357 13.5378 3.89055 15.7926 6.97497 16.4888C10.0594 17.1851 13.253 16.2323 15.5156 13.9708C17.7781 11.7092 18.7326 8.5159 18.0379 5.43143C17.8172 4.41368 17.4297 3.44528 16.8963 2.56293C16.6354 2.12526 16.1466 1.87184 15.625 1.91506C15.1034 1.95827 14.6606 2.28856 14.4765 2.76724C14.359 3.07876 14.3524 3.41783 14.4578 3.73344C14.5632 4.04905 14.7744 4.31935 15.0536 4.5C15.4367 4.77493 15.7855 5.10129 16.0897 5.47179C16.7662 6.30873 17.179 7.33224 17.2748 8.40685C17.2705 8.42221 17.2657 8.43735 17.2605 8.45225C17.1355 8.8788 16.83 9.22504 16.4252 9.39611C16.0204 9.56718 15.5604 9.54749 15.1732 9.34181C13.8694 8.63809 12.3207 8.45993 10.879 8.84341C9.43717 9.22689 8.2203 10.1435 7.49431 11.4256C6.76832 12.7077 6.58419 14.2482 6.9726 15.6865C7.36101 17.1248 8.27401 18.3439 9.5547 19.0738C10.8354 19.8037 12.3771 19.9929 13.8207 19.6129C15.2643 19.2329 16.484 18.3127 17.1771 17.025C17.2343 16.9215 17.2784 16.8099 17.3079 16.6935C17.4884 16.0203 17.781 15.3793 18.1781 14.7979C18.3508 14.5444 18.5659 14.3263 18.8122 14.1559C20.5092 14.9342 22.5019 14.7428 24.0324 13.6519C24.2146 13.5159 24.3345 13.3125 24.3654 13.0887C24.3964 12.865 24.3362 12.6389 24.1976 12.4612C24.059 12.2835 23.8531 12.1683 23.6288 12.1422C23.4044 12.1161 23.1787 12.1811 23.001 12.324C22.1383 12.9735 21.0306 13.1976 19.9635 12.9357C19.5867 12.8305 19.2376 12.6516 18.935 12.41C19.4487 11.3979 19.7391 10.3042 19.7869 9.18573C19.8554 8.34196 19.8137 7.49469 19.6628 6.66523C21.2354 7.30448 22.4745 8.63305 22.9951 10.3358C23.062 10.5469 23.2043 10.7233 23.3929 10.8328C23.5815 10.9424 23.8032 10.978 24.018 10.9321C24.2329 10.8862 24.4229 10.7621 24.5513 10.585C24.6797 10.4078 24.7371 10.1913 24.7122 9.9771C24.4444 7.6694 23.1075 5.64253 21.1332 4.47363C21.8796 6.98019 21.6537 9.69134 20.5145 12.0284C19.3684 14.3778 17.3964 16.1472 15.0285 16.9297C14.4684 18.8398 13.0463 20.3942 11.1652 21.1819C9.28409 21.9696 7.17351 21.9124 5.34273 21.0249C3.51195 20.1374 2.15135 18.5067 1.61827 16.5413C1.08519 14.5759 1.43104 12.4686 2.57107 10.7705C3.71109 9.07243 5.53563 7.95246 7.58687 7.67744C9.6381 7.40242 11.6892 8.00183 13.2 9.30347C13.3847 9.46092 13.6232 9.53442 13.8632 9.50935C14.1033 9.48428 14.3205 9.36291 14.4669 9.17199C14.6132 8.98107 14.6757 8.73797 14.6397 8.50019C14.6038 8.2624 14.4724 8.05033 14.2757 7.91169C13.2758 7.17741 12.1217 6.67335 10.9007 6.43756C9.67973 6.20177 8.42456 6.24071 7.22146 6.55145C6.01835 6.86219 4.89654 7.43695 3.93249 8.22941C2.96845 9.02188 2.18497 10.0145 1.63834 11.13C1.09171 12.2456 0.796922 13.4576 0.773924 14.691C0.750926 15.9243 0.999961 17.1461 1.50475 18.2808C2.00953 19.4155 2.75969 20.4357 3.70336 21.2631C4.64704 22.0904 5.75602 22.7073 6.95338 23.0733C8.15074 23.4393 9.4077 23.5458 10.6481 23.386C11.8885 23.2262 13.0854 22.8033 14.1609 22.1459C15.2364 21.4886 16.1654 20.6114 16.8879 19.5717C17.6104 18.532 18.111 17.3551 18.3557 16.112C18.6004 14.8689 18.5837 13.5904 18.3068 12.3542C18.0298 11.1181 17.4993 9.95704 16.7504 8.94146C17.2915 8.98147 17.8219 8.86538 18.2749 8.6079C18.728 8.35042 19.0814 7.96422 19.2871 7.50295C19.2857 7.50142 19.2842 7.49989 19.2828 7.49836C19.8125 5.56355 19.2778 3.52094 17.8689 2.11223C16.9055 1.14917 15.6318 0.543233 14.2696 0.401752C12.9075 0.260272 11.5437 0.591538 10.4213 1.33754C9.64226 1.8731 8.9952 2.58142 8.53079 3.40054C7.63642 2.14193 6.32909 1.24953 4.84511 0.887913C4.39264 0.78251 3.92382 0.880009 3.5565 1.15748C3.18918 1.43494 2.96307 1.86283 2.94231 2.32138C2.92154 2.77993 3.10825 3.22358 3.45059 3.52823C3.79293 3.83289 4.2507 3.96295 4.70317 3.88749C5.77605 3.708 6.87979 4.09462 7.5763 4.90686C6.10811 5.68424 5.03919 7.01415 4.6367 8.56531C4.23421 10.1165 4.53074 11.7602 5.4592 13.066C6.38767 14.3718 7.8644 15.2078 9.49739 15.3843C11.1304 15.5608 12.7577 15.062 13.9755 13.9936C13.0451 15.0279 11.8275 15.7418 10.4858 16.0386C9.14412 16.3354 7.74732 16.1993 6.48945 15.6489C5.23159 15.0984 4.1772 14.1645 3.47283 12.9795C2.76846 11.7946 2.44628 10.4167 2.55151 9.04031C2.65673 7.66397 3.18444 6.3556 4.06242 5.29118C4.9404 4.22676 6.12411 3.46087 7.45236 3.09651C8.78061 2.73215 10.1923 2.78792 11.4873 3.25675C11.4518 2.83832 11.4343 2.4184 11.4347 1.9982C11.4348 1.84406 11.3967 1.69249 11.324 1.55773C11.2513 1.42297 11.1463 1.3095 11.0193 1.23223C11.019 1.23205 11.0187 1.23188 11.0184 1.2317C11.1499 1.15043 11.2664 1.05139 11.3648 0.938974C11.6025 0.671033 11.7285 0.325889 11.7189 -0.0247895C11.7094 -0.375468 11.565 -0.712574 11.3121 -0.965729C11.0591 -1.21888 10.7141 -1.3679 10.3516 -1.37274C9.98903 -1.37757 9.64078 -1.23793 9.38189 -0.990486C9.12299 -0.743043 8.97044 -0.409479 8.94991 -0.0593186C8.92937 0.290841 9.04223 0.635722 9.26536 0.908339C9.48849 1.18096 9.80469 1.36163 10.1501 1.41652L11.3807 2.01399Z" />
          </svg>
          Dark
        </>
      )}
    </button>
  );
};

export default ThemeToggle; 